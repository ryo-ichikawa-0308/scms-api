# Simple contract management system API

AIガバナンス実証サンプルAPI

## 設計と実装

本APIは、[Simple contract management system データベース定義標準仕様書](https://github.com/ryo-ichikawa-0308/scms-db-docs)のサンプルDB設計書と[Simple contract management system API設計標準仕様書](https://github.com/ryo-ichikawa-0308/scms-api-docs)のサンプルAPI設計書をインプットとし、[scms-prompt: AIガバナンスとコード自動生成のためのプロンプト集](https://github.com/ryo-ichikawa-0308/scms-prompts)のプロンプト群を用いて自動生成したスケルトンコードに、ビジネスロジックを人手で実装することで作成した。

本APIは、これらのドキュメント統制・AIガバナンスの実証サンプルである。

## AIとプログラマの責任分離

APIの実装にあたり、下記の通りAIとプログラマの責任範囲を定義した。

### AIの責務

AIの責務は、API設計とDB設計に従ってスケルトンコードの出力をするところまでとした。

### プログラマの責務

プログラマの責務は、ビジネスロジック・テストコードの実装と、API設計書のエンドポイント仕様(コントローラーメソッドのI/O仕様)を変えない範囲で下記の修正を行うこととした。

- 過剰なコメントの削除
- 空もしくはサロゲートキーのみといった、冗長なDTOの整理
- コントローラー層・サービス層間の呼び出し関係調整
- クラス名は異なるが、本質的に同じであるオブジェクトの統合
- モジュールクラスの整理
- 認証周りのような共通モジュール・サービスの実装
- AIで自動生成したDAOの基本メソッドの、エンドポイント仕様への適合(関連テーブルの追加、不要なメソッドの削除、DTO項目の調整等)

また、実装中にAIで作成したコードスニペットを取り込む際には、実装済みのコードに適合するように調整を行った。

## 構成要素

| ファイル/ディレクトリ                      | 役割                     | 備考                                                                                                                  |
| ------------------------------------------ | ------------------------ | --------------------------------------------------------------------------------------------------------------------- |
| [api-tutorial.md](./docs/api-tutorial.md)  | API実装マニュアル        | APIのコーディングルール。                                                                                             |
| [scms-backend](./scms-backend)             | API本体                  | APIの実装コード。                                                                                                     |
| [test-command.md](./docs/test-commands.md) |API疎通テストコマンド     | APIの動作確認を行うcurlコマンド集。                                                                                          |
| README.md(本書)                            | ドキュメントの概要と構成 |                                                                                                                       |

(C)2025 Ryo ICHIKAWA
